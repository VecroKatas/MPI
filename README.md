# Звіт з ЛР по MPI та OpenMP

Задачою було реалізувати алгоритм Дейкстри пошуку найкоротшого шляху в зваженому орієнтованому графі з використанням розпаралелювання обчислювань. 

# Реалізація MPI

Різниця між звичайним алгоритмом, та реалізацією з використанням MPI в тому, що вершини графа розділяються між нодами MPI, наприклад для запуску програми з 3 нодами MPI на графі, що має 20 вершин, вони розподіляються відповідно 0-6, 7-13 та 14-19.

# Реалізація OpenMP

Розпаралелювання використовуючи OpenMP відбувається у двох частинах. 
Перше, коли в новій вершині обраховуються нові ваги переходів, то саме обрахування відстаней розпаралелюється.
Друге, пошук найменшої ваги для переходу в наступну вершину. 

# Порівняння реалізацій.

n | Regular | MPI | **Regular/MPI Diff** | OpenMP | **Regular/OpenMP Diff** | **MPI/OpenMP Diff**
-:|-:|-:|-:|-:|-:|-:
 0 | 0.003207 | 0.0015612 | -0.0016458 | 0.0017209 | -0,0014861 | 0,0001597
 0 | 0.002249 | 0.0009717 | -0.0012773 | 0.0022229 | -2,61E-05 | 0,0012512
 0 | 0.003115 | 0.0010579 | -0.0020571 | 0.0014844 | -0,0016306 | 0,0004265
 0 | 0.0003201 | 0.0010971 | 0,000777 | 0.0017462 | 0,0014261 | 0,0006491
 1 | 0.000242 | 0,0015 | 0,0012574 | 0,0019353 | 0,0016927 | 0,0004353
 1 | 0.000235 | 0,0011608 | 0,000925 | 0,0017805 | 0,0015447 | 0,0006197
 1 | 0.000249 | 0,0023021 | 0,0020525 | 0,001866 | 0,0016164 | -0,0004361
 1 | 0,0002457 | 0,0011267 | 0,000881 | 0,001822 | 0,0015763 | 0,0006953
 2 | 0,0003901 | 0,0022208 | 0,0018307 | 0,001831 | 0,0014409 | -0,0003898
 2 | 0,0002745 | 0,0021551 | 0,0018806 | 0,0018021 | 0,0015276 | -0,000353
 2 | 0,0002769 | 0,002233 | 0,0019561 | 0,0021952 | 0,0019183 | -3,78E-05
 2 | 0,0002491 | 0,0020781 | 0,001829 | 0,0027254 | 0,0024763 | 0,0006473

 Як бачимо, в більшості випадків, звичайна реалізація алгоритму Дейкстри опрацьовується швидше, ніж розпаралелені альтернативи. Причиною Цього є те, що кожен наступний крок алгоритму тісно пов'язаний з попереднім, оптимально правильно розпаралелити обрахунки дуже складно. 